"use strict";exports.Promise=require("../deps/promise"),exports.inherits=require("inherits"),exports.extend=require("pouchdb-extend");var argsarray=require("argsarray");exports.promisedCallback=function(e,t){return t&&e.then(function(e){process.nextTick(function(){t(null,e)})},function(e){process.nextTick(function(){t(e)})}),e},exports.callbackify=function(e){return argsarray(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&exports.promisedCallback(r,n),r})},exports.fin=function(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})},exports.sequentialize=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},exports.flatten=function(e){for(var t=[],n=0,r=e.length;r>n;n++)t=t.concat(e[n]);return t},exports.uniq=function(e){for(var t={},n=0,r=e.length;r>n;n++)t["$"+e[n]]=!0;var i=Object.keys(t),a=new Array(i.length);for(n=0,r=i.length;r>n;n++)a[n]=i[n].substring(1);return a},exports.MD5=require("./md5");
